{% block form_row %}
{% spaceless %}
	<div class="controls form_row {{ name }}">
		{{ form_widget(form) }}
	</div>
{% endspaceless %}
{% endblock form_row %}


{% block form_widget_simple %}
{% spaceless %}
    {% set type = type|default('text') %}
    <input type="{{ type }}" {{ block('widget_attributes') }} {% if value is not empty %}value="{{ value }}" {% endif %}/>
    {% if 'text' == type and 'bban' in name %}
    	&nbsp;<span class="add-on" id="{{ id }}_tipss"><i class="icon-info-sign" id="{{ id }}_tip" {% for attrname, attrvalue in attr %}{% if attrname in ['data-placement', 'rel', 'data-original-title', 'data-content'] %} {{ attrname }}="{{ attrvalue }}" {% endif %}{% endfor %}></i></span>
    {% else %}
    	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    {% endif %}
{% endspaceless %}
{% endblock form_widget_simple %}


{% block widget_attributes %}
{% spaceless %}
    id="{{ id }}" name="{{ full_name }}"{% if read_only %} readonly="readonly"{% endif %}{% if disabled %} disabled="disabled"{% endif %}{% if required %} required="required"{% endif %}{% if max_length %} maxlength="{{ max_length }}"{% endif %}{% if pattern %} pattern="{{ pattern }}"{% endif %}
    {% for attrname, attrvalue in attr %}
    	{% if attrname in ['placeholder', 'title'] %}
    		{{ attrname }}="{{ attrvalue|trans({}, translation_domain) }}"
    	{% else %}
    		{% if 'text' == type and 'bban' in name %}
    			{% for attrname, attrvalue in attr %}{% if attrname not in ['rel', 'data-placement', 'data-original-title', 'data-content'] %} {{ attrname }}="{{ attrvalue }}" {% endif %}{% endfor %}
    		{% else %}
    			{{ attrname }}="{{ attrvalue }}" 
    		{% endif %}
    	{% endif %}
    {% endfor %}
{% endspaceless %}
{% endblock widget_attributes %}


{% block choice_widget_collapsed %}
{% spaceless %}
	<select {{ block('widget_attributes') }}{% if multiple %} multiple="multiple"{% endif %}>
        {% if empty_value is not none %}
            <option value="">{{ empty_value|trans }}</option>
        {% endif %}
        {% if preferred_choices|length > 0 %}
            {% set options = preferred_choices %}
            {{ block('choice_widget_options') }}
            {% if choices|length > 0 and separator is not none %}
                <option disabled="disabled">{{ separator }}</option>
            {% endif %}
        {% endif %}
        {% set options = choices %}
        {{ block('choice_widget_options') }}
    </select>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
{% endspaceless %}
{% endblock choice_widget_collapsed %}


{% block form_errors %}
{% spaceless %}
{% if errors|length > 0 %}
	<div class="alert alert-error">
		<button class="close" data-dismiss="alert" type="button"><i class=" icon-remove"></i></button>
		{% for error in errors %}
			{% set errorMessage = error.messageTemplate %}
			{% set errorMessageBits = errorMessage|split('|', 2) %}
			
			{% if errorMessageBits|length == 2 %}
				{% set title = errorMessageBits[0]|trans(error.messageParameters) %}
				{% set message = errorMessageBits[1]|trans(error.messageParameters) %}
				<strong>
					<i class=" icon-exclamation-sign"></i>
					{{ title }}
				</strong><br>
				{{ message }}
			{% else %}
				{{ error.messageTemplate|trans(error.messageParameters) }}<br>
			{% endif %}
		{% endfor %}
	</div>
{% endif %}
{% endspaceless %}
{% endblock form_errors %}